<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>RAF</title>

<style>
:root{
  --bg1:#f9d7e7;
  --bg2:#f4c3dc;
  --card:#ffffff;
  --txt:#1d1b22;
  --muted:#6e6475;
  --pink:#ff3b8d;
  --pink2:#ff66a8;
  --gray:#e9e9ee;
  --stroke:#00000010;
  --shadow: 0 20px 60px #00000018;
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--txt);
  background:
    radial-gradient(900px 600px at 30% 20%, #ffffff80, transparent 55%),
    radial-gradient(700px 600px at 75% 35%, #ffffff70, transparent 55%),
    linear-gradient(135deg, var(--bg1), var(--bg2));
  overflow:hidden;
}

canvas{
  position:fixed;
  inset:0;
  pointer-events:none;
}

.wrap{
  width:min(820px, 92vw);
  padding:22px;
}

.card{
  position:relative;
  background:var(--card);
  border:1px solid var(--stroke);
  border-radius:22px;
  padding:26px 26px 22px;
  box-shadow: var(--shadow);
  overflow:hidden;
}

.softGlow{
  position:absolute;
  inset:-2px;
  background: radial-gradient(520px 220px at 35% 20%, #ff3b8d20, transparent 60%);
  pointer-events:none;
}

.topRow{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:18px;
}

h1{
  margin:0;
  font-size: clamp(22px, 4vw, 36px);
  line-height:1.12;
  letter-spacing:-0.02em;
}

.sub{
  margin:10px 0 0;
  color:var(--muted);
  font-size: clamp(14px, 2.2vw, 16px);
  line-height:1.5;
}

.catImg{
  width: 240px;
  height: auto;
  flex: 0 0 auto;
  filter: drop-shadow(0 20px 40px #00000020);
  animation: float 3s ease-in-out infinite;
  user-select: none;
  pointer-events: none;

}

@keyframes float{
  0%,100%{ transform: translateY(0) rotate(-1deg); }
  50%{ transform: translateY(-6px) rotate(1deg); }
}

.btns{
  margin-top:18px;
  position:relative;
  display:flex;
  gap:12px;
  align-items:center;
  min-height:64px;
}

button{
  border:0;
  border-radius:14px;
  padding:12px 16px;
  font-size:16px;
  cursor:pointer;
  transition: transform .16s ease, box-shadow .16s ease, filter .16s ease;
  user-select:none;
  font-weight:650;
}

button:active{ transform: scale(.98); }

.yes{
  background: linear-gradient(180deg, var(--pink), var(--pink2));
  color:#fff;
  box-shadow: 0 14px 26px #ff3b8d35;
}
.yes:hover{
  transform: translateY(-2px);
  filter: brightness(1.02);
}

.no{
  background: var(--gray);
  color:#2a2732;
  position:relative;
  box-shadow: 0 10px 18px #00000010;
}
.no:hover{ transform: translateY(-2px); }

.result{
  margin-top:16px;
  padding:12px 14px;
  border-radius:16px;
  background: #ff3b8d10;
  border:1px solid #ff3b8d18;
  display:none;
  align-items:center;
  gap:10px;
}

.badge{
  width:34px;
  height:34px;
  border-radius:12px;
  display:grid;
  place-items:center;
  background:#ff3b8d18;
  border:1px solid #ff3b8d1f;
}

.hint{
  margin-top:10px;
  color:var(--muted);
  font-size:13px;
  opacity:.95;
}

/* –º–∞–ª–µ–Ω—å–∫–∏–π ‚Äú–ø–æ–ø‚Äù –ø—Ä–∏ YES */
.pop{
  animation: pop .35s ease;
}
@keyframes pop{
  0%{ transform: scale(1); }
  50%{ transform: scale(1.03); }
  100%{ transform: scale(1); }
}
/* ===== –ë–õ–û–ö –î–õ–Ø –¢–ï–õ–ï–§–û–ù–ê ===== */
.mobileBlock{
  position:fixed;
  inset:0;
  display:none;
  place-items:center;
  background: linear-gradient(135deg, #0b0b12, #1a1630);
  color:#fff;
  z-index:9999;
  padding:24px;
  text-align:center;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

.mobileBlock .box{
  max-width:520px;
  width:100%;
  background:#ffffff10;
  border:1px solid #ffffff25;
  border-radius:18px;
  padding:18px 16px;
  backdrop-filter: blur(10px);
}

.mobileBlock .title{
  font-size:22px;
  font-weight:800;
  margin:0 0 8px;
}

.mobileBlock .text{
  margin:0;
  opacity:.9;
  line-height:1.5;
}

</style>
</head>

<body>
<canvas id="fx"></canvas>
  <div class="mobileBlock" id="mobileBlock">
  <div class="box">
    <p class="title">–£–ø—Å! –ù—É–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —ç—Ç–æ —Å –Ω–æ—É—Ç–±—É–∫–∞ üíª</p>
    <p class="text">–ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ/–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ) —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –º–æ–∂–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.</p>
  </div>
</div>

<div class="wrap">
  <div class="card" id="card">
    <div class="softGlow"></div>

    <div class="topRow">
      <div>
        <h1>–ü—Ä–æ–≤–µ—Ä–∏–º —Ç–µ–æ—Ä–∏—é –ø—Ä–æ –†–ê–§?</h1>
        <p class="sub">–ü—Ä–æ—Å—Ç–æ –∫–æ—Ñ–µ –∏ –ø—Ä–æ–≥—É–ª–∫–∞, –ñ–∞–Ω–∞—Ä–∞ ‚òï‚ú®</p>
      </div>

      <!-- –ö–û–¢–ò–ö (SVG, –±–µ–∑ –∫–∞—Ä—Ç–∏–Ω–æ–∫) -->
<img src="cat.png" class="catImg" alt="cute cat" draggable="false">
    </div>

    <div class="btns" id="btns">
      <button class="yes" id="yesBtn">Yes üíó</button>
      <button class="no" id="noBtn">No</button>
    </div>

    <div class="result" id="result">
      <div class="badge" id="badge">üíå</div>
      <div>
        <div id="resultTitle" style="font-weight:750">–£—Ä–∞–∞–∞!</div>
        <div id="resultText" style="color:var(--muted);margin-top:2px">
          –¢–æ–≥–¥–∞ —Ñ–∏–∫—Å–∏—Ä—É–µ–º –≤—Ä–µ–º—è üòå
        </div>
      </div>
    </div>

    <div class="hint" id="hint">–ü–æ–¥—Å–∫–∞–∑–∫–∞: –∫–Ω–æ–ø–∫–∞ ‚ÄúNo‚Äù –≤–µ–¥—ë—Ç —Å–µ–±—è –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ üòÑ</div>
  </div>
</div>

<script>

  /* ===== –û–ì–†–ê–ù–ò–ß–ï–ù–ò–ï –î–õ–Ø –¢–ï–õ–ï–§–û–ù–ê (–ø–æ—Ä—Ç—Ä–µ—Ç –∏ –ª–∞–Ω–¥—à–∞—Ñ—Ç) ===== */
const mobileBlock = document.getElementById("mobileBlock");

function isMobile(){
  return window.matchMedia("(pointer: coarse)").matches || /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
}

// –µ—Å–ª–∏ —Ö–æ—á–µ—à—å –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ò –ø–æ—Ä—Ç—Ä–µ—Ç, –ò –ª–∞–Ω–¥—à–∞—Ñ—Ç –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ:
function checkMobileBlock(){
  if(isMobile()){
    mobileBlock.style.display = "grid";
  }else{
    mobileBlock.style.display = "none";
  }
}

window.addEventListener("load", checkMobileBlock);
window.addEventListener("resize", checkMobileBlock);
window.addEventListener("orientationchange", checkMobileBlock);
/* ================== –£–ë–ï–ì–ê–Æ–©–ê–Ø –ö–ù–û–ü–ö–ê (–ø–ª–∞–≤–Ω–æ + —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ) ================== */
const yesBtn = document.getElementById("yesBtn");
const noBtn  = document.getElementById("noBtn");
const btns   = document.getElementById("btns");
const card   = document.getElementById("card");
const result = document.getElementById("result");

let noX = 0, noY = 0;
let targetX = 0, targetY = 0;
let rafId = null;

function clamp(v, a, b){ return Math.max(a, Math.min(b, v)); }

function setNoTargetRandom(){
  const area = btns.getBoundingClientRect();
  const b = noBtn.getBoundingClientRect();

  const maxX = area.width - b.width;
  const maxY = area.height - b.height + 24;

  targetX = Math.random() * maxX;
  targetY = Math.random() * maxY;

  noBtn.style.position = "absolute";
  noBtn.style.left = "0px";
  noBtn.style.top  = "0px";
}

function animateNo(){
  // –ø–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –∫ —Ü–µ–ª–∏
  noX += (targetX - noX) * 0.18;
  noY += (targetY - noY) * 0.18;

  noBtn.style.transform = `translate(${noX}px, ${noY}px)`;

  const dx = Math.abs(targetX - noX);
  const dy = Math.abs(targetY - noY);
  if(dx < 0.6 && dy < 0.6){
    rafId = null;
    return;
  }
  rafId = requestAnimationFrame(animateNo);
}

function moveNoButton(){
  setNoTargetRandom();
  if(!rafId) rafId = requestAnimationFrame(animateNo);
}

noBtn.addEventListener("mouseenter", moveNoButton);
noBtn.addEventListener("mousedown",  moveNoButton);
noBtn.addEventListener("touchstart", (e)=>{ e.preventDefault(); moveNoButton(); }, {passive:false});
noBtn.addEventListener("click", (e)=>{ e.preventDefault(); moveNoButton(); });

/* ================== –°–ï–†–î–ï–ß–ö–ò –ù–ê CANVAS (—ç—Ñ—Ñ–µ–∫—Ç –∫–∞–∫ –≤ –≤–∏–¥–æ—Å–∞—Ö) ================== */
const canvas = document.getElementById("fx");
const ctx = canvas.getContext("2d");

function resize(){
  const dpr = window.devicePixelRatio || 1;
  canvas.width  = Math.floor(window.innerWidth * dpr);
  canvas.height = Math.floor(window.innerHeight * dpr);
  ctx.setTransform(dpr,0,0,dpr,0,0);
}
window.addEventListener("resize", resize);
resize();

let particles = [];

function heartPath(ctx, size){
  // –ø—Ä–æ—Å—Ç–µ–Ω—å–∫–æ–µ —Å–µ—Ä–¥–µ—á–∫–æ —á–µ—Ä–µ–∑ bezier
  const s = size;
  ctx.beginPath();
  ctx.moveTo(0, -0.2*s);
  ctx.bezierCurveTo(0.55*s, -0.85*s, 1.1*s, -0.1*s, 0, 0.75*s);
  ctx.bezierCurveTo(-1.1*s, -0.1*s, -0.55*s, -0.85*s, 0, -0.2*s);
  ctx.closePath();
}

function burstHearts(x, y){
  particles = [];
  const count = 120;

  for(let i=0;i<count;i++){
    const speed = 3 + Math.random()*7;
    const ang = (Math.random()*Math.PI*2);
    particles.push({
      x, y,
      vx: Math.cos(ang)*speed,
      vy: Math.sin(ang)*speed - (2 + Math.random()*3),
      g: 0.12 + Math.random()*0.10,
      a: 1,
      s: 4 + Math.random()*7,
      rot: Math.random()*Math.PI,
      vr: (Math.random()-0.5)*0.25,
      kind: Math.random()<0.8 ? "heart" : "spark"
    });
  }

  requestAnimationFrame(tick);
}

function tick(){
  ctx.clearRect(0,0,window.innerWidth,window.innerHeight);
  let alive = 0;

  for(const p of particles){
    p.vy += p.g;
    p.x  += p.vx;
    p.y  += p.vy;
    p.rot += p.vr;
    p.a  *= 0.985;

    if(p.y < window.innerHeight+40 && p.a > 0.05) alive++;

    ctx.save();
    ctx.globalAlpha = p.a;
    ctx.translate(p.x, p.y);
    ctx.rotate(p.rot);

    if(p.kind === "heart"){
      ctx.fillStyle = (Math.random()<0.5) ? "#ff3b8d" : "#ff66a8";
      heartPath(ctx, p.s);
      ctx.fill();
    }else{
      ctx.fillStyle = "#ffffff";
      ctx.fillRect(-p.s/2, -p.s/2, p.s, p.s);
    }

    ctx.restore();
  }

  if(alive>0) requestAnimationFrame(tick);
}

/* ================== –ö–õ–ò–ö YES: —ç—Ñ—Ñ–µ–∫—Ç + WhatsApp ================== */
yesBtn.addEventListener("click", ()=>{
  // —ç—Ñ—Ñ–µ–∫—Ç
  const r = yesBtn.getBoundingClientRect();
  burstHearts(r.left + r.width/2, r.top + r.height/2);

  // UI
  card.classList.remove("pop");
  void card.offsetWidth;
  card.classList.add("pop");

  result.style.display = "flex";
  noBtn.style.opacity = "0.55";

  // WhatsApp
  const phone = "77053682256"; // <-- —Ç–≤–æ–π –Ω–æ–º–µ—Ä —É–∂–µ —Å—Ç–æ–∏—Ç
  const message = "–ù—É –ª–∞–¥–Ω–æ, —è —Å–æ–≥–ª–∞—Å–Ω–∞)";
  const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;

  setTimeout(()=> window.open(url, "_blank"), 650);
});
</script>
</body>
</html>
